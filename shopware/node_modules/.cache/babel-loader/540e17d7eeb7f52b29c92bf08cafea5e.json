{"remainingRequest":"C:\\Users\\User-9100\\Documents\\Front-end\\Angular.js and Vue.js\\Lesson 13\\shopware\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\User-9100\\Documents\\Front-end\\Angular.js and Vue.js\\Lesson 13\\shopware\\src\\store\\modules\\products.js","dependencies":[{"path":"C:\\Users\\User-9100\\Documents\\Front-end\\Angular.js and Vue.js\\Lesson 13\\shopware\\src\\store\\modules\\products.js","mtime":1586151264728},{"path":"C:\\Users\\User-9100\\Documents\\Front-end\\Angular.js and Vue.js\\Lesson 13\\shopware\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\User-9100\\Documents\\Front-end\\Angular.js and Vue.js\\Lesson 13\\shopware\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZvci1lYWNoIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CnZhciB1cmwgPSAnaHR0cDovL2xvY2FsaG9zdDo1MDAwL2FwaS9wcm9kdWN0cy8nOwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHsKICAgIGNhcnQ6IFtdLAogICAgcHJvZHVjdHM6IFtdLAogICAgcHJvZHVjdDogbnVsbAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBHRVRfUFJPRFVDVF9CWV9JRDogZnVuY3Rpb24gR0VUX1BST0RVQ1RfQllfSUQoc3RhdGUsIGlkKSB7CiAgICAgIHN0YXRlLnByb2R1Y3QgPSBzdGF0ZS5wcm9kdWN0cy5maWx0ZXIoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcC5faWQgPT0gaWQ7CiAgICAgIH0pWzBdOwogICAgfSwKICAgIEFERF9UT19DQVJUOiBmdW5jdGlvbiBBRERfVE9fQ0FSVChzdGF0ZSwgX3JlZikgewogICAgICB2YXIgcHJvZHVjdCA9IF9yZWYucHJvZHVjdCwKICAgICAgICAgIHF1YW50aXR5ID0gX3JlZi5xdWFudGl0eTsKICAgICAgdmFyIGV4aXN0cyA9IHN0YXRlLmNhcnQuZmluZChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnByb2R1Y3QuX2lkID09PSBwcm9kdWN0Ll9pZDsKICAgICAgfSk7CgogICAgICBpZiAoZXhpc3RzKSB7CiAgICAgICAgZXhpc3RzLnF1YW50aXR5ICs9IHF1YW50aXR5OwogICAgICAgIHJldHVybjsKICAgICAgfQoKICAgICAgc3RhdGUuY2FydC5wdXNoKHsKICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LAogICAgICAgIHF1YW50aXR5OiBxdWFudGl0eQogICAgICB9KTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5jYXJ0KSk7CiAgICB9LAogICAgREVMRVRFX0ZST01fQ0FSVDogZnVuY3Rpb24gREVMRVRFX0ZST01fQ0FSVChzdGF0ZSwgaWQpIHsKICAgICAgc3RhdGUuY2FydCA9IHN0YXRlLmNhcnQuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0ucHJvZHVjdC5faWQgIT09IGlkOwogICAgICB9KTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2NhcnQnLCBKU09OLnN0cmluZ2lmeShzdGF0ZS5jYXJ0KSk7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7CiAgICBnZXRQcm9kdWN0QnlJZDogZnVuY3Rpb24gZ2V0UHJvZHVjdEJ5SWQoX3JlZjIsIGlkKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmMi5jb21taXQ7CiAgICAgIC8vIGNhbGwgYXBpIGV4LiBheGlvcy5nZXQoJ3VybCcgKyBpZCkKICAgICAgYXhpb3MuZ2V0KHVybCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLnByb2R1Y3RzKTsKICAgICAgICBjb21taXQoJ0dFVF9QUk9EVUNUX0JZX0lEJywgcmVzcG9uc2UuZGF0YS5wcm9kdWN0cyArIGlkKTsKICAgICAgfSk7CiAgICB9LAogICAgYWRkUHJvZHVjdFRvQ2FydDogZnVuY3Rpb24gYWRkUHJvZHVjdFRvQ2FydChfcmVmMywgX3JlZjQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWYzLmNvbW1pdDsKICAgICAgdmFyIHByb2R1Y3QgPSBfcmVmNC5wcm9kdWN0LAogICAgICAgICAgcXVhbnRpdHkgPSBfcmVmNC5xdWFudGl0eTsKICAgICAgY29tbWl0KCdBRERfVE9fQ0FSVCcsIHsKICAgICAgICBwcm9kdWN0OiBwcm9kdWN0LAogICAgICAgIHF1YW50aXR5OiBxdWFudGl0eQogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVQcm9kdWN0RnJvbUNhcnQ6IGZ1bmN0aW9uIGRlbGV0ZVByb2R1Y3RGcm9tQ2FydChfcmVmNSwgaWQpIHsKICAgICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgICAgY29tbWl0KCdERUxFVEVfRlJPTV9DQVJUJywgaWQpOwogICAgfQogIH0sCiAgZ2V0dGVyczogewogICAgc2hvcHBpbmdDYXJ0OiBmdW5jdGlvbiBzaG9wcGluZ0NhcnQoc3RhdGUpIHsKICAgICAgdmFyIGNhcnQgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdjYXJ0JykpOwoKICAgICAgaWYgKGNhcnQgIT09IG51bGwpIHsKICAgICAgICBzdGF0ZS5jYXJ0ID0gY2FydDsKICAgICAgfQoKICAgICAgcmV0dXJuIHN0YXRlLmNhcnQ7CiAgICB9LAogICAgc2hvcHBpbmdDYXJ0VG90YWw6IGZ1bmN0aW9uIHNob3BwaW5nQ2FydFRvdGFsKHN0YXRlKSB7CiAgICAgIHZhciB0b3RhbCA9IDA7CgogICAgICBpZiAoc3RhdGUuY2FydC5sZW5ndGggIT09IDApIHsKICAgICAgICBzdGF0ZS5jYXJ0LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIHRvdGFsICs9IGl0ZW0ucHJvZHVjdC5wcmljZSAqIGl0ZW0ucXVhbnRpdHk7CiAgICAgICAgfSk7CiAgICAgIH0KCiAgICAgIHJldHVybiB0b3RhbDsKICAgIH0sCiAgICBzaG9wcGluZ0NhcnRJdGVtQ291bnQ6IGZ1bmN0aW9uIHNob3BwaW5nQ2FydEl0ZW1Db3VudChzdGF0ZSkgewogICAgICB2YXIgaXRlbXMgPSAwOwoKICAgICAgaWYgKHN0YXRlLmNhcnQubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgc3RhdGUuY2FydC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICBpdGVtcyArPSBpdGVtLnF1YW50aXR5OwogICAgICAgIH0pOwogICAgICB9CgogICAgICByZXR1cm4gaXRlbXM7CiAgICB9LAogICAgcHJvZHVjdHM6IGZ1bmN0aW9uIHByb2R1Y3RzKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wcm9kdWN0czsKICAgIH0sCiAgICBwcm9kdWN0OiBmdW5jdGlvbiBwcm9kdWN0KHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5wcm9kdWN0OwogICAgfQogIH0KfTs="},{"version":3,"sources":["C:/Users/User-9100/Documents/Front-end/Angular.js and Vue.js/Lesson 13/shopware/src/store/modules/products.js"],"names":["axios","url","state","cart","products","product","mutations","GET_PRODUCT_BY_ID","id","filter","p","_id","ADD_TO_CART","quantity","exists","find","item","push","localStorage","setItem","JSON","stringify","DELETE_FROM_CART","actions","getProductById","commit","get","then","response","console","log","data","addProductToCart","deleteProductFromCart","getters","shoppingCart","parse","getItem","shoppingCartTotal","total","length","forEach","price","shoppingCartItemCount","items"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\n\r\nconst url = 'http://localhost:5000/api/products/'\r\n\r\nexport default ({\r\n  state: {\r\n    cart: [],\r\n    products: [],\r\n    product: null\r\n  },\r\n  mutations: {\r\n    \r\n    GET_PRODUCT_BY_ID(state, id) {\r\n      state.product = state.products.filter(p => p._id == id)[0]\r\n    },\r\n    ADD_TO_CART(state, { product, quantity }) {\r\n      let exists = state.cart.find(item => { return item.product._id === product._id })\r\n      if (exists) {\r\n        exists.quantity += quantity\r\n        return\r\n      }\r\n      state.cart.push({ product, quantity })\r\n\r\n      localStorage.setItem('cart', JSON.stringify(state.cart))\r\n    },\r\n    DELETE_FROM_CART(state, id) {\r\n      state.cart = state.cart.filter(item => { return item.product._id !== id})\r\n      localStorage.setItem('cart', JSON.stringify(state.cart))\r\n    }\r\n  },\r\n  actions: {\r\n    getProductById({ commit }, id ) {\r\n      // call api ex. axios.get('url' + id)\r\n      axios.get(url)\r\n      .then((response) => {\r\n        console.log(response.data.products)\r\n        commit('GET_PRODUCT_BY_ID', response.data.products + id)\r\n      })\r\n    },\r\n    addProductToCart({ commit }, {product, quantity }) {\r\n      commit('ADD_TO_CART', { product, quantity })\r\n    },\r\n    deleteProductFromCart({ commit}, id ) {\r\n      commit('DELETE_FROM_CART', id)\r\n    }\r\n  },\r\n  getters: {\r\n    shoppingCart(state) {\r\n\r\n      let cart = JSON.parse(localStorage.getItem('cart'))\r\n      if (cart !== null) {\r\n        state.cart = cart  \r\n      }\r\n      \r\n      return state.cart\r\n    },\r\n    shoppingCartTotal(state) {\r\n      let total = 0\r\n      if (state.cart.length !== 0) {\r\n        state.cart.forEach(item => {\r\n          total += item.product.price * item.quantity\r\n        })\r\n      }\r\n      return total\r\n    },\r\n    shoppingCartItemCount(state) {\r\n      let items = 0\r\n      if (state.cart.length !== 0) {\r\n        state.cart.forEach(item => {\r\n          items += item.quantity\r\n        })\r\n      }\r\n      return items\r\n    },\r\n    products(state) {\r\n      return state.products\r\n    },\r\n    product(state) {\r\n      return state.product\r\n    }\r\n  }\r\n})"]}]}